<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <a href="./box-336x280-01.jpg" download="ted-test">下載圖片</a>
    <script>// 假设您已经有了一个图片的URL或者数据
const imageUrl = './box-336x280-01.jpg'; // 图像的URL

const downloadLink = document.createElement('a');
downloadLink.href = imageUrl; // 设置图像的URL
downloadLink.download = 'image.jpg'; // 设置下载文件的名称

downloadLink.textContent = '点击下载图片1';

document.body.appendChild(downloadLink);

downloadLink.addEventListener('click', function(event) {
  event.preventDefault(); // 阻止默认的打开链接行为
  downloadImage(imageUrl);
});

function downloadImage(url) {
  const xhr = new XMLHttpRequest();
  xhr.open('GET', url, true);
  xhr.responseType = 'blob';

  xhr.onload = function() {
    if (xhr.status === 200) {
      const blob = xhr.response;
      const blobUrl = URL.createObjectURL(blob);

      const a = document.createElement('a');
      a.style.display = 'none';
      a.href = blobUrl;
      a.download = 'image.jpg'; // 设置下载文件的名称

      document.body.appendChild(a);
      a.click();

      document.body.removeChild(a);
      URL.revokeObjectURL(blobUrl);
    }
  };

  xhr.send();
}
        </script>
</body>
</html>